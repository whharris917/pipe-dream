---
title: Require Pre-Execution Repository Commit
revision_summary: Initial draft
---

# CR-085: Require Pre-Execution Repository Commit

## 1. Purpose

Establish a procedural requirement to commit and push the QMS repository before releasing an executable document for execution. This preserves the pre-execution baseline (pre-approved document state, routing history, approval records) in version control before any implementation work begins.

---

## 2. Scope

### 2.1 Context

Independent improvement identified during CR-059 execution. The pre-approved CR state, including the full audit trail of review and approval, exists only in local QMS files until committed to git. If execution begins without committing, a system failure or context loss could result in the pre-approved baseline being unrecoverable.

- **Parent Document:** None

### 2.2 Changes Summary

Add a pre-execution commit/push requirement to SOP-004 (applies to all executable documents), SOP-002 Section 7.2 (CR-specific execution workflow), and TEMPLATE-CR execution instructions (author reminder).

### 2.3 Files Affected

- `QMS/SOP/SOP-004.md` -- New paragraph in Section 5
- `QMS/SOP/SOP-002.md` -- Add step to Section 7.2
- `QMS/TEMPLATE/TEMPLATE-CR.md` -- Note in execution instructions comment block
- `qms-cli/seed/templates/TEMPLATE-CR.md` -- Seed copy alignment

---

## 3. Current State

SOP-004 and SOP-002 have no requirement to commit or push the QMS repository before releasing an executable document for execution. The pre-approved state, including the document content, routing events, and approval records, exists only in local files until someone decides to commit. TEMPLATE-CR's execution instructions comment block does not mention this step.

---

## 4. Proposed State

SOP-004 Section 5 requires the initiator to commit and push the QMS repository before releasing an executable document for execution. SOP-002 Section 7.2 includes this as the first step in the CR execution workflow. TEMPLATE-CR's execution instructions comment block reminds executors of this requirement.

---

## 5. Change Description

### 5.1 SOP-004 Section 5 (Document States During Execution)

Add a paragraph after the existing note clarifying that before transitioning from PRE_APPROVED to IN_EXECUTION, the initiator shall commit and push the QMS repository. This preserves the pre-execution baseline and ensures recoverability.

### 5.2 SOP-002 Section 7.2 (Execution)

Add a new step 1 (renumbering existing steps 1-4 to 2-5): "Commit and push the QMS repository to capture the pre-execution state (per SOP-004 Section 5)."

### 5.3 TEMPLATE-CR Execution Instructions

Add a note to the execution instructions comment block (the `EXECUTION PHASE INSTRUCTIONS` comment in Section 10) reminding executors to commit and push the QMS repository before beginning execution, referencing SOP-004 Section 5.

---

## 6. Justification

- The pre-approved state represents a gate-passed document that has survived review and approval. If this state is lost before execution begins, recovery requires re-creating the document from memory.
- Execution work may span multiple sessions. Without a committed baseline, there is no way to distinguish pre-approved content from execution-phase changes in the git history.
- This codifies what should already be habitual practice and makes it visible to QA during post-review.

---

## 7. Impact Assessment

### 7.1 Files Affected

| File | Change Type | Description |
|------|-------------|-------------|
| `QMS/SOP/SOP-004.md` | Modify | New paragraph in Section 5 |
| `QMS/SOP/SOP-002.md` | Modify | New step in Section 7.2 |
| `QMS/TEMPLATE/TEMPLATE-CR.md` | Modify | Note in execution instructions comment |
| `qms-cli/seed/templates/TEMPLATE-CR.md` | Modify | Seed copy alignment |

### 7.2 Documents Affected

| Document | Change Type | Description |
|----------|-------------|-------------|
| SOP-004 | Modify | Pre-execution commit requirement |
| SOP-002 | Modify | CR execution workflow step |
| TEMPLATE-CR | Modify | Execution instructions reminder |

### 7.3 Other Impacts

None. This formalizes existing best practice without changing tooling or workflows.

---

## 8. Testing Summary

No code changes. Verification is procedural:

- All three documents are internally consistent after updates
- SOP-002 Section 7.2 cross-references SOP-004 Section 5 correctly
- Step numbering in SOP-002 Section 7.2 is sequential
- TEMPLATE-CR execution instructions reference SOP-004 Section 5
- Seed copy matches QMS copy

---

## 9. Implementation Plan

### 9.1 Document Updates

1. Checkout SOP-004, SOP-002, and TEMPLATE-CR
2. Apply edits per Change Description
3. Checkin all three documents
4. Route for review, address feedback
5. Route for approval, all three reach EFFECTIVE
6. Align seed copy for TEMPLATE-CR

---

## 10. Execution

<!--
EXECUTION PHASE INSTRUCTIONS
============================
NOTE: Do NOT delete this comment block. It provides guidance for execution.

- Sections 1-9 are PRE-APPROVED content - do NOT modify during execution
- Only THIS TABLE and the comment sections below should be edited during execution phase

COLUMNS:
- EI: Execution item identifier
- Task Description: What to do (static, from Implementation Plan)
- Execution Summary: Narrative of what was done, evidence, observations (editable)
- Task Outcome: Pass or Fail (editable)
- Performed By - Date: Signature (editable)

TASK OUTCOME:
- Pass: Task completed as planned
- Fail: Task could not be completed as planned - attach VAR with explanation

VAR TYPES (see VAR-TEMPLATE):
- Type 1: Use when the failed task is critical to CR objectives
- Type 2: Use when impact is contained and CR can conceptually close

EXECUTION SUMMARY EXAMPLES:
- "Implemented per plan. Commit abc123."
- "Modified src/module.py:45-67. Unit tests passing."
- "Created SOP-007 (now EFFECTIVE)."
-->

| EI | Task Description | Execution Summary | Task Outcome | Performed By - Date |
|----|------------------|-------------------|--------------|---------------------|
| EI-1 | Update SOP-004 Section 5: add pre-execution commit requirement. Checkout, edit, checkin, route review/approval to EFFECTIVE | Checked out SOP-004 v5.1. Added paragraph to Section 5 requiring commit and push before releasing for execution. Checked in, routed for review (QA recommended), routed for approval. SOP-004 now EFFECTIVE v6.0. | Pass | claude - 2026-02-15 |
| EI-2 | Update SOP-002 Section 7.2: add commit/push as step 1, renumber existing steps. Checkout, edit, checkin, route review/approval to EFFECTIVE | Checked out SOP-002 v10.1. Added step 1 "Commits and pushes the QMS repository to capture the pre-execution state (per SOP-004 Section 5)" to Section 7.2, renumbered existing steps 1-4 to 2-5. Checked in, routed for review (QA recommended), routed for approval. SOP-002 now EFFECTIVE v11.0. | Pass | claude - 2026-02-15 |
| EI-3 | Update TEMPLATE-CR: add pre-execution commit note to execution instructions comment. Checkout, edit, checkin, route review/approval to EFFECTIVE. Align seed copy. | Checked out TEMPLATE-CR v5.1. Added PRE-EXECUTION note to execution instructions comment block referencing SOP-004 Section 5. Checked in, routed for review (QA recommended), routed for approval. TEMPLATE-CR now EFFECTIVE v6.0. Seed copy in qms-cli/seed/templates/TEMPLATE-CR.md aligned (revision_summary and comment block updated). | Pass | claude - 2026-02-15 |

<!--
NOTE: Do NOT delete this comment. It provides guidance during document execution.

Add rows as needed. When adding rows, fill columns 3-5 during execution.
-->

---

### Execution Comments

| Comment | Performed By - Date |
|---------|---------------------|
| All three documents checked out, edited, checked in, and routed together. QA reviewed and approved all three simultaneously. No variances. | claude - 2026-02-15 |

<!--
NOTE: Do NOT delete this comment. It provides guidance during document execution.

Record observations, decisions, or issues encountered during execution.
Add rows as needed.

This section is the appropriate place to attach VARs that do not apply
to any individual execution item, but apply to the CR as a whole.
-->

---

## 11. Execution Summary

<!--
NOTE: Do NOT delete this comment. It provides guidance during document execution.

Complete this section after all EIs are executed.
Summarize the overall outcome and any deviations from the plan.
-->

All three execution items completed as planned. SOP-004 v6.0, SOP-002 v11.0, and TEMPLATE-CR v6.0 are all EFFECTIVE. Seed copy aligned. No variances.

---

## 12. References

- **SOP-001:** Document Control
- **SOP-002:** Change Control (target of EI-2)
- **SOP-004:** Document Execution (target of EI-1)

---

**END OF DOCUMENT**
