---
title: Update TEMPLATE-CR with Code Development Best Practices
revision_summary: Initial draft
---

# CR-044: Update TEMPLATE-CR with Code Development Best Practices

## 1. Purpose

Codify the development controls and qualification workflow patterns established in recent code-update CRs (CR-036, CR-042) into TEMPLATE-CR. This ensures that future CRs modifying controlled code follow the same rigorous structure: dev branch isolation, CI verification, RS/RTM approval gates, and qualified state continuity tracking.

---

## 2. Scope

### 2.1 Context

Independent improvement identified during review of recent CRs. CR-042 and CR-036 established excellent patterns for code governance that should be formalized in the template rather than reinvented each time.

- **Parent Document:** None

### 2.2 Changes Summary

1. Add "Development Controls" section to Impact Assessment (Section 7.4)
2. Add "Qualified State Continuity" table (Section 7.5)
3. Add standardized phased implementation plan for code CRs (Section 9)
4. Update template usage guide to explain code CR patterns
5. Update seed template in qms-cli to match

### 2.3 Files Affected

- `QMS/TEMPLATE/TEMPLATE-CR.md` - Add development controls sections
- `qms-cli/seed/templates/TEMPLATE-CR.md` - Sync changes to seed template

---

## 3. Current State

- TEMPLATE-CR provides a general structure for Change Records
- No guidance on dev branch workflows, CI verification, or qualification gates
- Each code CR must reinvent the development controls structure
- No template for tracking qualified state continuity

---

## 4. Proposed State

- TEMPLATE-CR includes conditional sections for code CRs
- Development Controls section (7.4) provides a checklist of required controls
- Qualified State Continuity table (7.5) tracks version transitions
- Implementation Plan section includes standardized phases for code CRs
- Seed template in qms-cli matches production template

---

## 5. Change Description

### 5.1 New Section 7.4: Development Controls

Add to Impact Assessment, applicable when CR modifies controlled code:

```markdown
### 7.4 Development Controls

<!--
Include this section when the CR modifies controlled code.
Delete this section for document-only CRs.
-->

This CR implements changes to {{SYSTEM}}, a controlled {{submodule/codebase}}. Development follows established controls:

1. **Test environment isolation:** Development in a non-QMS-controlled directory (e.g., `.test-env/`, `/projects/` for containerized agents, or other gitignored location)
2. **Branch isolation:** All development on branch `{{BRANCH_NAME}}`
3. **Write protection:** `.claude/settings.local.json` blocks direct writes to `{{SYSTEM}}/`
4. **Qualification required:** All new/modified requirements must have passing tests before merge
5. **CI verification:** Tests must pass on GitHub Actions for dev branch
6. **PR gate:** Changes merge to main only via PR after RS/RTM approval
7. **Submodule update:** Parent repo updates pointer only after PR merge
```

### 5.2 New Section 7.5: Qualified State Continuity

Add after Development Controls:

```markdown
### 7.5 Qualified State Continuity

| Phase | main branch | RS/RTM Status | Qualified Release |
|-------|-------------|---------------|-------------------|
| Before CR | Current commit | EFFECTIVE v{{N}}.0 | {{SYS}}-{{M}}.0 |
| During execution | Unchanged | DRAFT (checked out) | {{SYS}}-{{M}}.0 (unchanged) |
| Post-approval | Merged from {{BRANCH}} | EFFECTIVE v{{N+1}}.0 | {{SYS}}-{{M+1}}.0 |
```

### 5.3 Updated Implementation Plan Phases

Provide standardized phases for code CRs:

```markdown
## 9. Implementation Plan

<!--
For code CRs, use these standardized phases. Adjust as needed.
For document-only CRs, simplify to relevant steps.
-->

### 9.1 Phase 1: Test Environment Setup

1. Verify/create a non-QMS-controlled working directory (e.g., `.test-env/`, `/projects/`, or other appropriate location)
2. Clone/update {{SYSTEM}} from GitHub
3. Create and checkout branch `{{BRANCH_NAME}}`
4. Verify clean test environment

### 9.2 Phase 2: Requirements (RS Update)

1. Checkout SDLC-{{NS}}-RS in production QMS
2. Add/modify requirements as needed
3. Checkin RS, route for review and approval

### 9.3 Phase 3: Implementation

1. Implement changes per Change Description
2. Test locally
3. Commit to dev branch

### 9.4 Phase 4: Qualification

1. Add/update qualification tests
2. Run full test suite, verify all tests pass
3. Push to dev branch
4. Verify GitHub Actions CI passes
5. Document qualified commit hash

### 9.5 Phase 5: RTM Update

1. Checkout SDLC-{{NS}}-RTM in production QMS
2. Add verification evidence referencing CI-verified commit
3. Checkin RTM, route for review and approval

### 9.6 Phase 6: Merge and Submodule Update

1. Once RS and RTM are EFFECTIVE, create PR to merge dev branch to main
2. Merge PR
3. Update submodule pointer in parent repo
4. Verify functionality in production context

### 9.7 Phase 7: Documentation (if applicable)

1. Update CLAUDE.md or other documentation as needed
```

### 5.4 Template Usage Guide Update

Add to the template header comment:

```markdown
CODE CR PATTERNS:
When a CR modifies controlled code (any system with SDLC governance):
- Include Section 7.4 (Development Controls) and 7.5 (Qualified State Continuity)
- Use the standardized implementation phases in Section 9
- RS and RTM must be EFFECTIVE before merging to main
- RTM must reference the CI-verified commit hash from the dev branch
- Qualification happens on the dev branch; main stays qualified throughout

The pattern ensures:
- main branch is always in a qualified state
- No code merges without approved requirements and passing tests
- Full traceability from requirements to verified implementation
```

---

## 6. Justification

- **Problem:** Code CRs require careful orchestration of dev branches, CI verification, and RS/RTM approval gates. Without template guidance, each CR reinvents this structure.
- **Impact of not making this change:** Inconsistent CR structures, risk of missing qualification steps, no standardized pattern for new contributors to follow.
- **Solution addresses root cause:** By codifying proven patterns into the template, all future code CRs follow the same rigorous structure.

---

## 7. Impact Assessment

### 7.1 Files Affected

| File | Change Type | Description |
|------|-------------|-------------|
| `QMS/TEMPLATE/TEMPLATE-CR.md` | Modify | Add development controls, qualified state continuity, phased implementation |
| `qms-cli/seed/templates/TEMPLATE-CR.md` | Modify | Sync changes to seed template |

### 7.2 Documents Affected

| Document | Change Type | Description |
|----------|-------------|-------------|
| TEMPLATE-CR | Modify | Add code CR patterns |

### 7.3 Other Impacts

None. This is a template update; existing CRs are not affected.

**Note on Qualification:** This CR does not constitute a requalification of the QMS CLI. The seed template is documentation only and does not impact requirements or qualification tests. The update to `qms-cli/seed/templates/TEMPLATE-CR.md` is a minor documentation change that does not affect the qualified state.

---

## 8. Testing Summary

- Manual verification that updated template renders correctly
- Verify seed template matches production template
- Review by QA for completeness and clarity

---

## 9. Implementation Plan

### 9.1 Phase 1: Update Production Template

1. Checkout TEMPLATE-CR
2. Add Section 7.4 (Development Controls)
3. Add Section 7.5 (Qualified State Continuity)
4. Update Section 9 with standardized phases
5. Update template usage guide comment
6. Checkin TEMPLATE-CR

### 9.2 Phase 2: Update Seed Template

1. Copy updated content to `qms-cli/seed/templates/TEMPLATE-CR.md`
2. Commit to qms-cli main (documentation-only change; no requalification required as seed templates do not impact requirements or tests)

### 9.3 Phase 3: Route for Approval

1. Route TEMPLATE-CR for review and approval

---

## 10. Execution

<!--
EXECUTION PHASE INSTRUCTIONS
============================
NOTE: Do NOT delete this comment block. It provides guidance for execution.

- Sections 1-9 are PRE-APPROVED content - do NOT modify during execution
- Only THIS TABLE and the comment sections below should be edited during execution phase
-->

| EI | Task Description | Execution Summary | Task Outcome | Performed By - Date |
|----|------------------|-------------------|--------------|---------------------|
| EI-1 | Checkout TEMPLATE-CR and add development controls sections | [SUMMARY] | [Pass/Fail] | [PERFORMER] - [DATE] |
| EI-2 | Update template usage guide with code CR patterns | [SUMMARY] | [Pass/Fail] | [PERFORMER] - [DATE] |
| EI-3 | Checkin TEMPLATE-CR | [SUMMARY] | [Pass/Fail] | [PERFORMER] - [DATE] |
| EI-4 | Update qms-cli seed template to match | [SUMMARY] | [Pass/Fail] | [PERFORMER] - [DATE] |
| EI-5 | Route TEMPLATE-CR for review and approval | [SUMMARY] | [Pass/Fail] | [PERFORMER] - [DATE] |

<!--
NOTE: Do NOT delete this comment. It provides guidance during document execution.

Add rows as needed. When adding rows, fill columns 3-5 during execution.
-->

---

### Execution Comments

| Comment | Performed By - Date |
|---------|---------------------|
| [COMMENT] | [PERFORMER] - [DATE] |

<!--
NOTE: Do NOT delete this comment. It provides guidance during document execution.

Record observations, decisions, or issues encountered during execution.
Add rows as needed.
-->

---

## 11. Execution Summary

<!--
NOTE: Do NOT delete this comment. It provides guidance during document execution.

Complete this section after all EIs are executed.
Summarize the overall outcome and any deviations from the plan.
-->

[EXECUTION_SUMMARY]

---

## 12. References

- **SOP-001:** Document Control
- **SOP-002:** Change Control
- **SOP-005:** Code Governance
- **SOP-006:** SDLC Governance
- **CR-036:** Add qms-cli initialization and bootstrapping functionality (exemplar)
- **CR-042:** Add Remote Transport Support to QMS MCP Server (exemplar)

---

**END OF DOCUMENT**
