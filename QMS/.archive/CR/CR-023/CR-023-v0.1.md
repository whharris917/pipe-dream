---
title: 'Create SOP-007: Agent Orchestration'
revision_summary: Initial draft
---

# CR-023: Create SOP-007: Agent Orchestration

## 1. Purpose

Establish formal procedures for AI agent orchestration within the QMS. This SOP will define requirements for spawning subagents, communication boundaries, reviewer independence, and identity integrity.

---

## 2. Scope

### 2.1 Context

Agent orchestration procedures are currently implicit in CLAUDE.md and agent definition files. This change formalizes these procedures as a controlled SOP, enabling consistent enforcement and auditability.

- **Parent Document:** None (independent improvement identified during Session-2026-01-09-001)

### 2.2 Changes Summary

Create new SOP-007: Agent Orchestration, defining behavioral requirements for the orchestrator and subagents.

### 2.3 Files Affected

- `QMS/SOP/SOP-007.md` - New file (SOP creation)

---

## 3. Current State

Agent orchestration procedures exist informally in CLAUDE.md and agent definition files. There is no controlled SOP governing:
- How the orchestrator spawns and communicates with subagents
- What context may or may not be passed to reviewers
- Agent reuse requirements within sessions
- Enforcement mechanisms for violations

---

## 4. Proposed State

SOP-007: Agent Orchestration is an EFFECTIVE controlled document that defines:
- Orchestrator and subagent responsibilities
- Communication boundaries (minimal context principle)
- Agent reuse requirements
- Identity and integrity requirements
- Conflict resolution and enforcement mechanisms

---

## 5. Change Description

### 5.1 SOP Structure

The SOP contains eight sections:

| Section | Content |
|---------|---------|
| 1. Purpose | Establishes agent orchestration requirements |
| 2. Scope | Orchestrator, subagents, communications, CLI interactions |
| 3. Definitions | Orchestrator, Subagent, Task Prompt, Context, Review Independence |
| 4. Agent Roles | Orchestrator/subagent shall/shall-not; agent selection; agent reuse |
| 5. Communication Boundaries | Minimal context principle; permitted/prohibited context; context sources |
| 6. Identity and Integrity | Identity claims; audit trail; prohibited behaviors |
| 7. Conflict Resolution | Disagreement handling; escalation; audit-based enforcement |
| 8. References | SOP-001, SOP-002, CLAUDE.md, agent files |

### 5.2 Key Requirements

**Communication Boundaries (Section 5):**
- Orchestrator may provide: document ID, workflow state, task type
- Orchestrator shall NOT provide: summaries, review criteria, desired outcomes
- Subagents derive context from: document, SOPs, agent files, CLAUDE.md, relevant code

**Agent Reuse (Section 4.4):**
- Orchestrator shall reuse agents within a session
- Fresh agents only when Lead directs

**Enforcement (Section 7.3):**
- Primary: Audit trail review
- Investigation only at Lead's discretion

### 5.3 Design Principle

The SOP is written in behavioral terms (what agents shall/shall-not do), not tooling-dependent terms. This ensures the SOP is immediately followable through discipline, without requiring infrastructure changes.

---

## 6. Justification

- **Formalizes implicit procedures:** Agent orchestration rules currently exist only in guidance documents; formalizing them as an SOP enables consistent enforcement
- **Protects reviewer independence:** Explicit prohibition on orchestrator providing review criteria prevents rubber-stamping
- **Enables auditability:** Clear requirements make violations detectable through audit trail review
- **Establishes behavioral baselines:** The CLI can later exceed these requirements with additional guardrails (governed by future RS)

---

## 7. Impact Assessment

### 7.1 Files Affected

| File | Change Type | Description |
|------|-------------|-------------|
| `QMS/SOP/SOP-007.md` | Create | New SOP document |

### 7.2 Documents Affected

| Document | Change Type | Description |
|----------|-------------|-------------|
| SOP-007 | Create | Agent Orchestration SOP |

### 7.3 Other Impacts

None. The SOP codifies existing behavioral expectations; no infrastructure changes required.

---

## 8. Testing Summary

- Verify SOP-007 structure follows TEMPLATE-SOP format
- Verify all sections are present and complete
- Verify no placeholder content remains
- Verify requirements are behavioral (not tooling-dependent)
- Verify no conflicts with existing agent definition files
- Verify references are accurate

---

## 9. Implementation Plan

### 9.1 Create SOP-007

1. Create SOP-007 in QMS using `qms create SOP`
2. Populate content from approved CR specification
3. Route SOP-007 through review and approval workflow

---

## 10. Execution

| EI | Task Description | Execution Summary | Task Outcome | Performed By - Date |
|----|------------------|-------------------|--------------|---------------------|
| EI-1 | Create SOP-007 document and populate content | [SUMMARY] | [Pass/Fail] | [PERFORMER] - [DATE] |
| EI-2 | Route SOP-007 through approval workflow | [SUMMARY] | [Pass/Fail] | [PERFORMER] - [DATE] |

<!--
NOTE: Do NOT delete this comment. It provides guidance during document execution.

Add rows as needed. When adding rows, fill columns 3-5 during execution.
-->

---

### Execution Comments

| Comment | Performed By - Date |
|---------|---------------------|
| [COMMENT] | [PERFORMER] - [DATE] |

<!--
NOTE: Do NOT delete this comment. It provides guidance during document execution.

Record observations, decisions, or issues encountered during execution.
Add rows as needed.

This section is the appropriate place to attach VARs that do not apply
to any individual execution item, but apply to the CR as a whole.
-->

---

## 11. Execution Summary

<!--
NOTE: Do NOT delete this comment. It provides guidance during document execution.

Complete this section after all EIs are executed.
Summarize the overall outcome and any deviations from the plan.
-->

[EXECUTION_SUMMARY]

---

## 12. References

- **SOP-001:** Document Control
- **SOP-002:** Change Control
- **Session Notes:** `.claude/notes/Session-2026-01-09-001/SOP-007-draft.md`

---

**END OF DOCUMENT**
