---
title: 'CR-028-VAR-001: SDLC-QMS Config Limitation'
revision_summary: Initial draft
---

# CR-028-VAR-001: SDLC-QMS Config Limitation

## 1. Variance Identification

| Parent Document | Failed Item | VAR Type |
|-----------------|-------------|----------|
| CR-028 | EI-1 | Type 1 |

<!--
NOTE: Do NOT delete this comment. It provides guidance during document execution.

VAR TYPE:
- Type 1: Full closure required to clear block on parent
- Type 2: Pre-approval sufficient to clear block on parent
-->

---

## 2. Detailed Description

**What happened:**
During execution of CR-028 EI-1 (Create and approve SDLC-QMS-RS), attempted to create an RS document for the QMS CLI. The QMS CLI only supports SDLC-FLOW document family, not SDLC-QMS.

**What was expected:**
The QMS CLI should support creating SDLC-QMS-RS and SDLC-QMS-RTM documents to qualify the QMS CLI itself.

**Actual behavior:**
The `DOCUMENT_TYPES` configuration hardcodes RS, RTM, DS, CS, and OQ document types to the SDLC-FLOW path and prefix only:
```python
"RS": {"path": "SDLC-FLOW", "executable": False, "prefix": "SDLC-FLOW-RS", "singleton": True}
```
There is no mechanism to create documents in the SDLC-QMS family.

---

## 3. Root Cause

The document type configuration was originally designed with only the Flow State application (SDLC-FLOW) in mind. The need to qualify other subsystems (such as the QMS CLI itself) was not anticipated.

---

## 4. Variance Type

System Error

<!--
NOTE: Do NOT delete this comment. It provides guidance during document execution.

Select one:
- Execution Error: Executor made a mistake or didn't follow instructions
- Scope Error: Plan/scope was written or designed incorrectly
- System Error: The system behaved unexpectedly
- Documentation Error: Error in a document other than the parent
- External Factor: Environmental or external issue
- Other: See Detailed Description
-->

---

## 5. Impact Assessment

This variance completely blocks CR-028 execution. Without SDLC-QMS document support, EI-1 and EI-2 cannot proceed. The parent CR's core objective (qualifying the QMS CLI) is unachievable until this is resolved.

---

## 6. Proposed Resolution

Extend the `DOCUMENT_TYPES` configuration to support the SDLC-QMS document family:

1. Add `QMS-RS` document type (SDLC-QMS-RS)
2. Add `QMS-RTM` document type (SDLC-QMS-RTM)
3. Update schema validation to accept SDLC-QMS prefixes
4. Verify path resolution works for SDLC-QMS directory
5. Add unit tests for new document types

---

## 7. Resolution Work

<!--
NOTE: Do NOT delete this comment block. It provides guidance for execution.

If the resolution work encounters issues, create a nested VAR.
-->

### Resolution: CR-028

| EI | Task Description | Execution Summary | Task Outcome | Performed By - Date |
|----|------------------|-------------------|--------------|---------------------|
| EI-1 | Add QMS-RS and QMS-RTM to DOCUMENT_TYPES | Added to qms_config.py:92-93 with path SDLC-QMS, singleton=True | Pass | claude - 2026-01-11 |
| EI-2 | Update qms_schema.py with new patterns | Added QMS-RS, QMS-RTM to DOC_TYPES:13 and DOC_ID_PATTERNS:55-56 | Pass | claude - 2026-01-11 |
| EI-3 | Add unit tests for QMS-RS and QMS-RTM creation | Added test_sdlc_qms_types to test_qms_paths.py | Pass | claude - 2026-01-11 |
| EI-4 | Run full test suite and verify | 198 tests pass. Manual: SDLC-QMS-RS created at QMS/SDLC-QMS/ | Pass | claude - 2026-01-11 |

<!--
NOTE: Do NOT delete this comment. It provides guidance during document execution.

Add rows as needed. When adding rows, fill columns 3-5 during execution.
-->

---

### Resolution Comments

| Comment | Performed By - Date |
|---------|---------------------|
| Resolution executed per plan. No issues encountered. | claude - 2026-01-11 |

<!--
NOTE: Do NOT delete this comment. It provides guidance during document execution.

Record observations, decisions, or issues encountered during resolution.
Add rows as needed.

This section is the appropriate place to attach nested VARs that do not
apply to any individual resolution item, but apply to the resolution as a whole.
-->

---

## 8. VAR Closure

| Details of Resolution | Outcome | Performed By - Date |
|-----------------------|---------|---------------------|
| SDLC-QMS document family added to QMS CLI. QMS-RS and QMS-RTM types now create documents at QMS/SDLC-QMS/. All EIs passed, 198 tests pass. CR-028 EI-1 can now proceed. | Resolved | claude - 2026-01-11 |

---

## 9. References

- **SOP-004:** Document Execution
- **CR-028:** QMS CLI Qualification: RS and RTM (parent document)
- **CR-029:** QMS CLI: Add VAR Document Type (required to create this VAR)

---

**END OF VARIANCE REPORT**
